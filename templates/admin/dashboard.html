{% extends '../_base.html' %}
{% block content %}
{% include './navbar.html' %}
{% include './sidebar.html' %}

<div class="p-4 sm:ml-64">
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-14">
  <!-- Total Sales Card -->
  <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
    <div class="flex items-center justify-between">
      <div>
        <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Total Sales</h3>
        <p class="text-sm text-gray-500 dark:text-gray-400">Current Period</p>
      </div>
      <span class="bg-green-100 text-green-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300">+12%</span>
    </div>
    <div class="mt-4">
      <h2 id="total-sales" class="text-4xl font-bold text-gray-800 dark:text-white">0</h2>
    </div>
  </div>

  <!-- Total Orders Card -->
  <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
    <div class="flex items-center justify-between">
      <div>
        <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Total Orders</h3>
        <p class="text-sm text-gray-500 dark:text-gray-400">Current Period</p>
      </div>
      <span class="bg-red-100 text-red-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-full dark:bg-red-900 dark:text-red-300">-5%</span>
    </div>
    <div class="mt-4">
      <h2 id="total-orders" class="text-4xl font-bold text-gray-800 dark:text-white">0</h2>
    </div>
  </div>

  <!-- Revenue Card -->
  <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
    <div class="flex items-center justify-between">
      <div>
        <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Revenue</h3>
        <p class="text-sm text-gray-500 dark:text-gray-400">Current Period</p>
      </div>
      <span class="bg-green-100 text-green-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300">+8%</span>
    </div>
    <div class="mt-4">
      <h2 class="text-4xl font-bold text-gray-800 dark:text-white">₹ 1,20,000</h2>
    </div>
  </div>

  <!-- New Orders Card -->
  <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
    <div class="flex items-center justify-between">
      <div>
        <h3 class="text-lg font-semibold text-gray-800 dark:text-white">New Orders</h3>
        <p class="text-sm text-gray-500 dark:text-gray-400">Today</p>
      </div>
      <span class="bg-blue-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-full dark:bg-blue-900 dark:text-blue-300">+25</span>
    </div>
    <div class="mt-4">
      <h2 id="todays-orders" class="text-4xl font-bold text-gray-800 dark:text-white">0</h2>
    </div>
  </div>

  <!-- Pending Orders Card -->
<div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
  <div class="flex items-center justify-between mb-4">
    <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Pending Orders</h3>
    <span class="bg-yellow-100 text-yellow-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-full dark:bg-yellow-900 dark:text-yellow-300">0</span>
  </div>
  <div class="mt-4">
    <h2 id="pending-orders" class="text-4xl font-bold text-gray-800 dark:text-white">0</h2>
  </div>
  <div class="mt-6">
    <div class="flex items-center justify-between mb-2">
      <span class="text-sm font-medium text-gray-600 dark:text-gray-400">Approved Orders</span>
      <span id="approved-orders" class="text-sm font-medium text-green-500 dark:text-green-400">0</span>
    </div>
    <div class="w-full bg-green-200 rounded-full h-2.5 mb-4 dark:bg-green-700">
      <div class="approved-progress bg-green-600 h-2.5 rounded-full" style="width: 50%"></div>
    </div>
    <div class="flex items-center justify-between mb-2">
      <span class="text-sm font-medium text-gray-600 dark:text-gray-400">Canceled Orders</span>
      <span id="canceled-orders" class="text-sm font-medium text-red-500 dark:text-red-400">0</span>
    </div>
    <div class="w-full bg-red-200 rounded-full h-2.5 dark:bg-red-700">
      <div class="canceled-progress bg-red-600 h-2.5 rounded-full" style="width: 20%"></div>
    </div>
  </div>
</div>
  

<!-- Low Stock Alert Card -->
<div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
  <div class="flex items-center justify-between mb-4">
    <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Low Stock Alert</h3>
  </div>
  <ul>
    <li class="flex items-center justify-between py-2">
      <div class="flex items-center">
        <span class="text-gray-800 dark:text-white">Product Name</span>
      </div>
      <div class="flex items-center">
        <span class="text-yellow-500 mr-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
          </svg>
        </span>
        <span class="text-gray-500 dark:text-gray-400">10 units</span>
      </div>
    </li>
    <!-- Add more low stock product items here -->
  </ul>
</div>

  <!-- Top Products Card -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 col-span-2">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Top Selling Products</h3>
          <a href="#" class="text-sm font-medium text-blue-500 hover:text-blue-700 dark:text-blue-300 dark:hover:text-blue-400">View All</a>
        </div>
        <ul class="top-products-list">
        </ul>
    </div>
</div>
      <div class="w-full bg-white rounded-lg shadow dark:bg-gray-800 p-4 md:p-6 mt-5">
            <div class="flex justify-between mb-5">
              <div class="grid gap-4 grid-cols-2">
                <div>
                  <h5 class="inline-flex items-center text-gray-500 dark:text-gray-400 leading-none font-normal mb-2">Sales Revenue
                    <svg data-popover-target="clicks-info" data-popover-placement="bottom" class="w-3 h-3 text-gray-400 hover:text-gray-900 dark:hover:text-white cursor-pointer ms-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                      <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
                    </svg>
                    <div data-popover id="clicks-info" role="tooltip" class="absolute z-10 invisible inline-block text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-0 w-72 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400">
                        <div class="p-3 space-y-2">
                            <h3 class="font-semibold text-gray-900 dark:text-white">Sales Revenue Trend</h3>
                            <p>This chart displays the monthly sales revenue trend over the selected year. The line represents the total revenue generated from product sales each month.</p>
                            <h3 class="font-semibold text-gray-900 dark:text-white">Calculation</h3>
                            <p>The sales revenue for each month is calculated by summing up the total value of all orders placed and invoiced during that month.</p>
                            <a href="#" class="flex items-center font-medium text-blue-600 dark:text-blue-500 dark:hover:text-blue-600 hover:text-blue-700 hover:underline">Read more <svg class="w-2 h-2 ms-1.5 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
                      </svg></a>
                        </div>
                        <div data-popper-arrow></div>
                    </div>
                  </h5>
                  <p class="text-gray-900 dark:text-white text-2xl leading-none font-bold">₹38,00k</p>
                </div>
                <div>
                  <h5 class="inline-flex items-center text-gray-500 dark:text-gray-400 leading-none font-normal mb-2">
                    Order Counts
                    <svg data-popover-target="order-counts-info" data-popover-placement="bottom" class="w-3 h-3 text-gray-400 hover:text-gray-900 dark:hover:text-white cursor-pointer ms-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                      <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z" />
                    </svg>
                    <div data-popover id="order-counts-info" role="tooltip" class="absolute z-10 invisible inline-block text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-0 w-72 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400">
                      <div class="p-3 space-y-2">
                        <h3 class="font-semibold text-gray-900 dark:text-white">Order Counts Trend</h3>
                        <p>This chart displays the monthly trends for orders received, processed, and delivered. Each line represents the count of orders in the respective stage during that month.</p>
                        <h3 class="font-semibold text-gray-900 dark:text-white">Calculation</h3>
                        <p>The order counts are calculated by counting the number of orders in each stage (received, processed, delivered) for the given month.</p>
                        <a href="#" class="flex items-center font-medium text-blue-600 dark:text-blue-500 dark:hover:text-blue-600 hover:text-blue-700 hover:underline">Learn More <svg class="w-2 h-2 ms-1.5 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4" />
                          </svg></a>
                      </div>
                      <div data-popper-arrow></div>
                    </div>
                  </h5>
                  <p class="text-gray-900 dark:text-white text-2xl leading-none font-bold">22,00</p>
                </div>
              </div>
              <div>
                <button id="dropdownDefaultButton-1"
                  data-dropdown-toggle="lastDaysdropdown-1"
                  data-dropdown-placement="bottom" type="button" class="px-3 py-2 inline-flex items-center text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">2024 <svg class="w-2.5 h-2.5 ms-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
              </svg></button>
              <div id="lastDaysdropdown-1" class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700">
                    <ul class="py-2 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="dropdownDefaultButton-1">
                      <li>
                        <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">2024</a>
                      </li>
                      <li>
                        <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">2023</a>
                      </li>
                      <li>
                        <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">2022</a>
                      </li>
                    </ul>
                </div>
              </div>
            </div>
            <div id="line-chart"></div>
            <div class="grid grid-cols-1 items-center border-gray-200 border-t dark:border-gray-700 justify-between mt-2.5">
              <div class="pt-5">      
                <a href="#" class="px-5 py-2.5 text-sm font-medium text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-299 rounded-lg text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                  <svg class="w-3.5 h-3.5 text-white me-2 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 20">
                    <path d="M14.066 0H7v5a2 2 0 0 1-2 2H0v11a1.97 1.97 0 0 0 1.934 2h12.132A1.97 1.97 0 0 0 16 18V2a1.97 1.97 0 0 0-1.934-2Zm-3 15H4.828a1 1 0 0 1 0-2h6.238a1 1 0 0 1 0 2Zm0-4H4.828a1 1 0 0 1 0-2h6.238a1 1 0 1 1 0 2Z"/>
                    <path d="M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.98 2.98 0 0 0 .13 5H5Z"/>
                  </svg>
                  View full report
                </a>
              </div>
            </div>
   </div>
        <div class="grid grid-cols-2 gap-4 mt-5">
            <div class="flex items-center justify-center rounded bg-gray-50 h-full dark:bg-gray-800">
               {% comment %}  {% endcomment %}
                <div class="w-full h-full bg-white rounded-lg shadow dark:bg-gray-800 p-4 md:p-6">
                  <div class="flex justify-between border-gray-200 border-b dark:border-gray-700 pb-3">
                    <dl>
                      <dt class="text-base font-normal text-gray-500 dark:text-gray-400 pb-1">Sales Comparison</dt>
                      <dd class="leading-none text-3xl font-bold text-gray-900 dark:text-white">₹5,405</dd>
                    </dl>
                  </div>

                  <div class="grid grid-cols-2 py-3">
                    <dl>
                      <dt class="text-base font-normal text-gray-500 dark:text-gray-400 pb-1">Sales by Dealers</dt>
                      <dd class="leading-none text-xl font-bold text-gray-900 dark:text-green-400">₹23,635</dd>
                    </dl>
                    <dl>
                      <dt class="text-base font-normal text-gray-500 dark:text-gray-400 pb-1">Sales by Staff</dt>
                      <dd class="leading-none text-xl font-bold text-green-900 dark:text-red-500">₹18,230</dd>
                    </dl>
                  </div>

                  <div id="bar-chart"></div>
                    <div class="grid grid-cols-1 items-center border-gray-200 border-t dark:border-gray-700 justify-between">
                      <div class="flex justify-between items-center pt-5">
                        <!-- Button -->
                        <button
                          id="dropdownDefaultButton"
                          data-dropdown-toggle="lastDaysdropdown"
                          data-dropdown-placement="bottom"
                          class="text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-900 text-center inline-flex items-center dark:hover:text-white"
                          type="button">
                          Last 6 months
                          <svg class="w-2.5 m-2.5 ms-1.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
                          </svg>
                        </button>
                        <!-- Dropdown menu -->
                        <div id="lastDaysdropdown" class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700">
                            <ul class="py-2 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="dropdownDefaultButton">
                              <li>
                                <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Yesterday</a>
                              </li>
                              <li>
                                <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Today</a>
                              </li>
                              <li>
                                <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Last 7 days</a>
                              </li>
                              <li>
                                <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Last 30 days</a>
                              </li>
                              <li>
                                <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Last 90 days</a>
                              </li>
                              <li>
                                <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Last 6 months</a>
                              </li>
                              <li>
                                <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Last year</a>
                              </li>
                            </ul>
                        </div>
                        <a
                          href="#"
                          class="uppercase text-sm font-semibold inline-flex items-center rounded-lg text-blue-600 hover:text-blue-700 dark:hover:text-blue-500  hover:bg-gray-100 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700 px-3 py-2">
                          Sales Report
                          <svg class="w-2.5 h-2.5 ms-1.5 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
                          </svg>
                        </a>
                      </div>
                    </div>
                </div>
               {% comment %}  {% endcomment %}
            </div>
            <div class="flex items-center justify-center rounded bg-gray-50 h-full dark:bg-gray-800">
                {% comment %}  {% endcomment %}
                <div class="w-full h-full bg-white rounded-lg shadow dark:bg-gray-800 p-4 md:p-6">
                  <div class="flex justify-between items-start w-full">
                      <div class="flex-col items-center">
                        <div class="flex items-center mb-1">
                            <h5 class="text-base font-normal text-gray-500 dark:text-gray-400 pb-1">Product category sales comparison.</h5>
                      </div>                     
                    </div>
                  </div>

                  <div class="flex justify-between border-gray-200 border-b dark:border-gray-700 pb-3">
                    <dd class="leading-none text-3xl font-bold text-gray-900 dark:text-white">₹5,405</dd>
                  </div>
                  
                  <div class="grid grid-cols-2 py-3">
                    <dl>
                      <dt class="text-base font-normal text-gray-500 dark:text-gray-400 pb-1">Sales by T-shirt</dt>
                      <dd class="leading-none text-xl font-bold text-gray-900 dark:text-green-400">₹23,635</dd>
                    </dl>
                    <dl>
                      <dt class="text-base font-normal text-gray-500 dark:text-gray-400 pb-1">Sales by Jeans</dt>
                      <dd class="leading-none text-xl font-bold text-green-900 dark:text-red-500">₹18,230</dd>
                    </dl>
                  </div>

                  <!-- Line Chart -->
                  <div class="py-6" id="pie-chart"></div>

                  <div class="grid grid-cols-1 items-center border-gray-200 border-t dark:border-gray-700 justify-between">
                    <div class="flex justify-between items-center pt-5">
                      <!-- Button -->
                      <button
                        id="dropdownDefaultButton-2"
                        data-dropdown-toggle="lastDaysdropdown-2"
                        data-dropdown-placement="bottom"
                        class="text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-900 text-center inline-flex items-center dark:hover:text-white"
                        type="button">
                        Last 7 days
                        <svg class="w-2.5 m-2.5 ms-1.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
                        </svg>
                      </button>
                      <div id="lastDaysdropdown-2" class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700">
                          <ul class="py-2 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="dropdownDefaultButton-2">
                            <li>
                              <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Yesterday</a>
                            </li>
                            <li>
                              <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Today</a>
                            </li>
                            <li>
                              <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Last 7 days</a>
                            </li>
                            <li>
                              <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Last 30 days</a>
                            </li>
                            <li>
                              <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Last 90 days</a>
                            </li>
                          </ul>
                      </div>
                      <a
                        href="#"
                        class="uppercase text-sm font-semibold inline-flex items-center rounded-lg text-blue-600 hover:text-blue-700 dark:hover:text-blue-500  hover:bg-gray-100 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700 px-3 py-2">
                        Sales Report
                        <svg class="w-2.5 h-2.5 ms-1.5 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
                        </svg>
                      </a>
                    </div>
                  </div>
                </div>
                {% comment %}  {% endcomment %}
            </div>
        
</div>

<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
<script>
  const options1 = {
    chart: {
      height: "100%",
      maxWidth: "100%",
      type: "line",
      fontFamily: "Inter, sans-serif",
      dropShadow: {
        enabled: false,
      },
      toolbar: {
        show: false,
      },
    },
    tooltip: {
      enabled: true,
      x: {
        show: false,
      },
      y: {
        formatter: function(value) {
          if (value >= 1000000) {
            return "₹" + (value / 1000000).toFixed(2) + " M";
          } else if (value >= 1000) {
            return "₹" + (value / 1000).toFixed(2) + " K";
          } else {
            return "₹" + value;
          }
        }
      }
    },
    dataLabels: {
      enabled: false,
    },
    stroke: {
      width: 6,
    },
    grid: {
      show: true,
      strokeDashArray: 4,
      padding: {
        left: 2,
        right: 2,
        top: -26,
      },
    },
    series: [
      {
        name: "Sales Revenue",
        data: [2500, 2800, 3100, 3000, 3200, 3500, 3700, 3800, 3600, 3300, 3400, 3800],
        color: "#1A56DB",
        yAxisID: 'sales-axis'
      },
      {
        name: "Orders Received",
        data: [1200, 1500, 1800, 1700, 2000, 2200, 2400, 2300, 2100, 1900, 2000, 2500],
        color: "#7E3AF2",
        yAxisID: 'order-axis'
      },
      {
        name: "Orders Processed",
        data: [1100, 1400, 1600, 1550, 1800, 2000, 2200, 2100, 1900, 1700, 1800, 2300],
        color: "#FF6384",
        yAxisID: 'order-axis'
      },
      {
        name: "Orders Delivered",
        data: [1000, 1300, 1500, 1450, 1700, 1900, 2100, 2000, 1800, 1600, 1700, 2200],
        color: "#36A2EB",
        yAxisID: 'order-axis'
      },
    ],
    legend: {
      show: true,
    },
    stroke: {
      curve: 'smooth'
    },
    xaxis: {
      categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
      labels: {
        show: true,
        style: {
          fontFamily: "Inter, sans-serif",
          cssClass: 'text-xs font-normal fill-gray-500 dark:fill-gray-400'
        }
      },
      axisBorder: {
        show: false,
      },
      axisTicks: {
        show: false,
      },
    },
    yaxis: [
      {
        id: 'sales-axis',
        show: true,
        title: {
          text: 'Sales Revenue (₹ Thousand)',
          style: {
            fontFamily: "Inter, sans-serif",
            fontSize: '12px',
            fontWeight: 600,
            cssClass: 'fill-gray-500 dark:fill-gray-400'
          }
        },
        labels: {
          formatter: function(value) {
            return "₹" + value;
          }
        },
      },
      {
        id: 'order-axis',
        show: true,
        opposite: true,
        title: {
          text: 'Order Counts',
          style: {
            fontFamily: "Inter, sans-serif",
            fontSize: '12px',
            fontWeight: 600,
            cssClass: 'fill-gray-500 dark:fill-gray-400'
          }
        }
      }
    ]
  }

  if (document.getElementById("line-chart") && typeof ApexCharts !== 'undefined') {
    const chart = new ApexCharts(document.getElementById("line-chart"), options1);
    chart.render();
  }
</script>
<script>
  const options2 = {
    series: [
      {
        name: "Dealers",
        data: [11000, 17000, 15000, 21000, 14000, 17000],
      },
      {
        name: "Sales Staff",
        data: [21000, 32000, 27000, 38000, 16000, 24000],
      },
    ],
    chart: {
      sparkline: {
        enabled: false,
      },
      type: "bar",
      width: "100%",
      height: 420,
      toolbar: {
        show: false,
      },
    },
    fill: {
      opacity: 1,
    },
    plotOptions: {
      bar: {
        horizontal: true,
        columnWidth: "100%",
        borderRadiusApplication: "end",
        borderRadius: 6,
        dataLabels: {
          position: "top",
        },
      },
    },
    legend: {
      show: true,
      position: "bottom",
    },
    dataLabels: {
      enabled: false,
    },
    tooltip: {
      shared: true,
      intersect: false,
      formatter: function (value) {
        return "₹" + value;
      }
    },
    labels: {
      show: true,
      style: {
        fontFamily: "Inter, sans-serif",
        cssClass: "text-xs font-normal fill-gray-500 dark:fill-gray-400",
      },
      formatter: function (value) {
        return "₹" + value;
      },
    },
    xaxis: {
      categories: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"],
    },
    yaxis: {
      labels: {
        show: true,
        style: {
          fontFamily: "Inter, sans-serif",
          cssClass: "text-xs font-normal fill-gray-500 dark:fill-gray-400",
        },
      },
    },
    axisTicks: {
      show: false,
    },
    axisBorder: {
      show: false,
    },
    grid: {
      show: true,
      strokeDashArray: 4,
      padding: {
        left: 2,
        right: 2,
        top: -20,
      },
    },
    fill: {
      opacity: 1,
    },
  };
  
  if (document.getElementById("bar-chart") && typeof ApexCharts !== "undefined") {
    const chart = new ApexCharts(document.getElementById("bar-chart"), options2);
    chart.render();
  }
</script>
<script>
  const getChartOptions = () => {
    return {
      series: [45, 56], // Assuming these are the percentages for each product category
      colors: ["#1C64F2", "#16BDCA"],
      chart: {
        height: 420,
        width: "100%",
        type: "pie",
      },
      stroke: {
        colors: ["white"],
        lineCap: "",
      },
      plotOptions: {
        pie: {
          labels: {
            show: true,
          },
          size: "100%",
          dataLabels: {
            offset: -25
          }
        },
      },
      labels: ["T-Shirt", "Jeans"], // Replace with your product category names
      dataLabels: {
        enabled: true,
        style: {
          fontFamily: "Inter, sans-serif",
        },
      },
      legend: {
        position: "bottom",
        fontFamily: "Inter, sans-serif",
      },
      yaxis: {
        labels: {
          formatter: function (value) {
            return value + "%";
          },
        },
      },
      xaxis: {
        labels: {
          formatter: function (value) {
            return value + "%";
          },
        },
        axisTicks: {
          show: false,
        },
        axisBorder: {
          show: false,
        },
      },
    }
  }
  
  if (document.getElementById("pie-chart") && typeof ApexCharts !== 'undefined') {
    const chart = new ApexCharts(document.getElementById("pie-chart"), getChartOptions());
    chart.render();
  }
  </script>
  <script>
    var userToken = "{{ user.auth_token.key }}";  

    function fetchData(apiEndpoint) {
        fetch(apiEndpoint, {
            method: 'GET',
            headers: {
                'Authorization': 'Token ' + userToken,
                'Content-Type': 'application/json',
            }
        })
        .then(response => response.json())
        .then(data => {
            document.getElementById('total-orders').textContent = data.total_orders;
            document.getElementById('todays-orders').textContent = data.todays_orders;
            document.getElementById('total-sales').textContent = '₹' + data.total_sales;
            document.getElementById('pending-orders').textContent = data.pending_orders;
            document.getElementById('approved-orders').textContent = data.approved_orders;
            document.getElementById('canceled-orders').textContent = data.canceled_orders;

            var approvedPercentage = (data.approved_orders / data.total_orders) * 100;
            var canceledPercentage = (data.canceled_orders / data.total_orders) * 100;

            document.querySelector('.approved-progress').style.width = approvedPercentage + '%';
            document.querySelector('.canceled-progress').style.width = canceledPercentage + '%';
        })
        .catch((error) => {
            console.error('Error:', error);
        });
    }
    fetchData('/api/orders-summary/');
    function fetchTopSellingProducts(apiEndpoint) {
      fetch(apiEndpoint, {
        method: 'GET',
        headers: {
          'Authorization': 'Token ' + userToken,
          'Content-Type': 'application/json',
        }
      })
      .then(response => response.json())
      .then(data => {
        const topProductsList = document.querySelector('.top-products-list');
        topProductsList.innerHTML = ''; // Clear previous products
    
        data.slice(0, 4).forEach(product => {
          const listItem = document.createElement('li');
          listItem.classList.add('flex', 'items-center', 'justify-between', 'py-2');
    
          const productDetails = document.createElement('div');
          productDetails.classList.add('flex', 'items-center');
    
          const productImage = document.createElement('img');
          productImage.src = product.image_url || 'https://via.placeholder.com/50';
          productImage.alt = 'Product Image';
          productImage.classList.add('top-product-image', 'w-10', 'h-10', 'rounded-md', 'mr-3');
    
          const productName = document.createElement('span');
          productName.textContent = product.name;
          productName.classList.add('text-gray-800', 'dark:text-white');
    
          const salesCount = document.createElement('span');
          salesCount.textContent = `${product.sales_count} Sold`;
          salesCount.classList.add('text-gray-500', 'dark:text-gray-400');
    
          productDetails.appendChild(productImage);
          productDetails.appendChild(productName);
          listItem.appendChild(productDetails);
          listItem.appendChild(salesCount);
          topProductsList.appendChild(listItem);
        });
      })
      .catch(error => {
        console.error('Error fetching top-selling products:', error);
      });
    }
    
    // Call the function with the API endpoint URL
    fetchTopSellingProducts('/api/top-selling-products/');
</script>
{% endblock %}